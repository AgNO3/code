<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <groupId>eu.agno3.fileshare.app</groupId>
    <artifactId>fileshare-app</artifactId>
    <version>0.0.1-SNAPSHOT</version>
  </parent>
  <artifactId>eu.agno3.fileshare.webgui</artifactId>
  <packaging>eclipse-plugin</packaging>
  <name>Fileshare Application WebGUI</name>

  <build>
  	<plugins>
		<plugin>
			<groupId>com.samaxes.maven</groupId>
			<artifactId>minify-maven-plugin</artifactId>
			<executions>
			<execution>
				<id>default</id>
				<goals>
					<goal>minify</goal>
				
				</goals>
				<configuration>
					<charset>UTF-8</charset>
					<webappSourceDir>${basedir}/webapp/</webappSourceDir>
					<webappTargetDir>${project.build.directory}/minified/webapp/</webappTargetDir>
					<cssSourceDir>resources/css/</cssSourceDir>
					<cssSourceFiles>
						<cssSourceFile>main.static.css</cssSourceFile>
					</cssSourceFiles>
					<cssFinalFile>main.static.css</cssFinalFile>
					<jsSourceDir>resources/fileshare/</jsSourceDir>
					<jsSourceFiles>
						<jsSourceFile>fileshare.js</jsSourceFile>
					</jsSourceFiles>
					<jsFinalFile>fileshare.js</jsFinalFile>
				</configuration>
			</execution>
			</executions>
		</plugin>

		<plugin>
			<groupId>org.eclipse.tycho</groupId>
			<artifactId>tycho-packaging-plugin</artifactId>
			<configuration>
				<additionalFileSets>
					<fileSet>
					<directory>${project.build.directory}/minified/</directory>
					<includes>
						<include>**/*</include>
					</includes>
					</fileSet>     
				</additionalFileSets>
			</configuration>
		</plugin>
	</plugins>
  </build>
</project>
